<%
  pct = [(local_assigns[:percent] || 0).to_f, 100].min
  label = local_assigns[:label]
  extra_class = local_assigns[:extra_class]
  css = ["shared-progress-bar"]
  css << extra_class if extra_class.present?
%>
<div class="<%= css.join(' ') %>" role="progressbar" aria-valuenow="<%= pct %>" aria-valuemin="0" aria-valuemax="100" aria-label="<%= label || 'Progress' %>">
  <div class="shared-progress-bar__track">
    <div class="shared-progress-bar__fill" style="width: <%= pct %>%;"></div>
  </div>
  <% if label.present? %>
    <span class="shared-progress-bar__label"><%= label %></span>
  <% end %>
</div>
