<section class="customer-edit-section" aria-labelledby="basic-info-heading">
  <div class="customer-edit-section__head">
    <h2 class="customer-edit-section__title" id="basic-info-heading"><i class="bi bi-person" aria-hidden="true"></i> Basic Info</h2>
  </div>
  <div class="customer-edit-section__body">
    <% if customer.errors.any? %>
      <div class="customer-edit-errors" role="alert">
        <strong>พบข้อผิดพลาด:</strong>
        <ul class="mb-0">
          <% customer.errors.full_messages.each do |m| %>
            <li><%= m %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="customer-edit-grid customer-edit-grid--2">
      <div class="customer-edit-field">
        <%= f.label :name, "Name *", class: "customer-edit-label" %>
        <%= f.text_field :name, class: "customer-edit-input", required: true, "aria-required": "true" %>
        <%= inline_error_for(customer, :name) %>
      </div>
      <div class="customer-edit-field">
        <%= f.label :email, "Email *", class: "customer-edit-label" %>
        <%= f.email_field :email, class: "customer-edit-input", required: true, "aria-required": "true" %>
        <%= inline_error_for(customer, :email) %>
      </div>
    </div>

    <div class="customer-edit-grid customer-edit-grid--2">
      <div class="customer-edit-field" data-customer-edit-target="typeField">
        <%= f.label :participant_type, "Type", class: "customer-edit-label" %>
        <%= f.select :participant_type, [["Individual", "Indi"], ["Corporate", "Corp"]], {}, class: "customer-edit-select", data: { action: "change->customer-edit#onTypeChange", customer_edit_target: "typeSelect" } %>
      </div>
      <div class="customer-edit-field">
        <%= f.label :phone, "Phone", class: "customer-edit-label" %>
        <%= f.text_field :phone, class: "customer-edit-input" %>
        <%= inline_error_for(customer, :phone) %>
      </div>
    </div>

    <div class="customer-edit-field" data-customer-edit-target="companyWrapper">
      <%= f.label :company, "Company", class: "customer-edit-label" %>
      <%= f.text_field :company, class: "customer-edit-input", data: { customer_edit_target: "companyInput" } %>
      <p class="customer-edit-hint customer-edit-hint--indi" data-customer-edit-target="companyHintIndi">Optional</p>
      <p class="customer-edit-hint customer-edit-hint--corp" data-customer-edit-target="companyHintCorp" hidden>Required for corporate billing</p>
      <p class="customer-edit-hint customer-edit-hint--warning" data-customer-edit-target="companyWarning" hidden role="status">Fill company name for Corp billing</p>
      <%= inline_error_for(customer, :company) %>
    </div>
  </div>
</section>
