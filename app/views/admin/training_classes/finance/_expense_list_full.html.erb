<%
  expense_list = local_assigns[:expense_list] || []
  training_class = local_assigns[:training_class]
%>
<% if expense_list.any? %>
  <div class="data-table-wrap data-table-wrap--accent mt-3">
    <table class="data-table" role="table" aria-label="All expenses">
      <colgroup>
        <col class="col-xs">
        <col class="col-sm">
        <col class="col-lg">
        <col class="col-md">
        <col class="col-sm">
        <col class="col-xs">
      </colgroup>
      <thead>
        <tr>
          <th scope="col" class="cell--center">#</th>
          <th scope="col">Date</th>
          <th scope="col">Description</th>
          <th scope="col">Category</th>
          <th scope="col" class="cell--num">Amount</th>
          <th scope="col" class="cell--center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% expense_list.each_with_index do |expense, idx| %>
          <tr>
            <td class="cell--center"><%= idx + 1 %></td>
            <td><%= expense.created_at.strftime("%d/%m/%y") %></td>
            <td class="cell--truncate" title="<%= expense.description %>"><%= expense.description %></td>
            <td class="cell--truncate" title="<%= expense.category %>"><%= expense.category.presence || "â€”" %></td>
            <td class="cell--num"><%= number_to_thb(expense.amount) %></td>
            <td class="cell--center">
              <%= link_to edit_admin_training_class_class_expense_path(training_class, expense), class: "icon-btn", aria: { label: "Edit expense" }, title: "Edit" do %><i class="bi bi-pencil" aria-hidden="true"></i><% end %>
              <%= link_to admin_training_class_class_expense_path(training_class, expense), data: { turbo_method: :delete, turbo_confirm: "Delete this expense?" }, class: "icon-btn icon-btn--danger", aria: { label: "Delete expense" }, title: "Delete" do %><i class="bi bi-trash" aria-hidden="true"></i><% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% end %>
