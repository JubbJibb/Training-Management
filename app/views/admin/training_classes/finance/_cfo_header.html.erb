<%= form_with url: finance_admin_training_class_path(training_class), method: :get, local: false, data: { turbo_frame: "class_finance_tab" }, class: "cfo-finance-header-form" do %>
  <div class="cfo-finance-header">
    <div>
      <div class="cfo-finance-header__breadcrumb">
        <%= link_to "Training Classes", admin_training_classes_path %> &rarr; <%= link_to training_class.title, admin_training_class_path(training_class) %> &rarr; Finance
      </div>
      <h1 class="cfo-finance-header__title">Finance Dashboard &middot; <%= training_class.title %></h1>
      <div class="odt-filters-row__row cfo-finance-filters">
        <div class="odt-filters-row__field">
          <label for="filter_type" class="odt-filters-row__label">Type</label>
          <select name="type" id="filter_type" class="odt-filters-row__input">
            <option value="">All</option>
            <option value="Corp" <%= "selected" if params[:type] == "Corp" %>>Corporate</option>
            <option value="Indi" <%= "selected" if params[:type] == "Indi" %>>Individual</option>
          </select>
        </div>
        <div class="odt-filters-row__field">
          <label for="filter_status" class="odt-filters-row__label">Payment status</label>
          <select name="status" id="filter_status" class="odt-filters-row__input">
            <option value="">All</option>
            <option value="Paid" <%= "selected" if params[:status] == "Paid" %>>Paid</option>
            <option value="Pending" <%= "selected" if params[:status] == "Pending" %>>Pending</option>
            <option value="Overdue" <%= "selected" if params[:status] == "Overdue" %>>Overdue</option>
          </select>
        </div>
        <div class="odt-filters-row__field">
          <label for="filter_date_from" class="odt-filters-row__label">Date from</label>
          <input type="date" name="date_from" id="filter_date_from" value="<%= params[:date_from] %>" class="odt-filters-row__input" />
        </div>
        <div class="odt-filters-row__field">
          <label for="filter_date_to" class="odt-filters-row__label">Date to</label>
          <input type="date" name="date_to" id="filter_date_to" value="<%= params[:date_to] %>" class="odt-filters-row__input" />
        </div>
        <div class="odt-filters-row__actions">
          <button type="submit" class="odt-filters-row__btn odt-filters-row__btn--primary">Apply</button>
          <%= link_to "Clear", finance_admin_training_class_path(training_class), class: "odt-filters-row__btn odt-filters-row__btn--secondary", data: { turbo_frame: "class_finance_tab" } %>
        </div>
      </div>
    </div>
    <div class="cfo-finance-header__actions">
      <%= link_to export_admin_training_class_attendees_path(training_class, format: :csv), class: "odt-btn odt-btn--secondary odt-btn--sm" do %>
        <i class="bi bi-download odt-btn__icon odt-btn__icon--left" aria-hidden="true"></i><span class="odt-btn__label">Export CSV</span>
      <% end %>
      <%= link_to new_admin_training_class_class_expense_path(training_class), class: "odt-btn odt-btn--primary odt-btn--sm" do %>
        <i class="bi bi-plus-lg odt-btn__icon odt-btn__icon--left" aria-hidden="true"></i><span class="odt-btn__label">Add Expense</span>
      <% end %>
    </div>
  </div>
<% end %>
