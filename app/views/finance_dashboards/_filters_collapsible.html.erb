<details class="foh-filters-card" open>
  <summary class="foh-filters-card__summary">Filters</summary>
  <div class="foh-filters-card__body">
    <%= form_with url: finance_dashboard_path, method: :get, data: { turbo_frame: "finance_dashboard" }, class: "foh-filters-form" do |f| %>
      <div class="foh-filters-form__row">
        <div class="foh-filters-form__field">
          <label for="foh_preset" class="foh-filters-form__label">Period</label>
          <select name="preset" id="foh_preset" class="foh-filters-form__input">
            <option value="">Custom</option>
            <option value="this_month" <%= "selected" if params[:preset] == "this_month" %>>This month</option>
            <option value="last_month" <%= "selected" if params[:preset] == "last_month" %>>Last month</option>
            <option value="this_quarter" <%= "selected" if params[:preset] == "this_quarter" %>>This quarter</option>
            <option value="this_year" <%= "selected" if params[:preset] == "this_year" %>>This year</option>
          </select>
        </div>
        <div class="foh-filters-form__field">
          <label for="foh_start_date" class="foh-filters-form__label">Start</label>
          <input type="date" name="start_date" id="foh_start_date" class="foh-filters-form__input" value="<%= params[:start_date] %>">
        </div>
        <div class="foh-filters-form__field">
          <label for="foh_end_date" class="foh-filters-form__label">End</label>
          <input type="date" name="end_date" id="foh_end_date" class="foh-filters-form__input" value="<%= params[:end_date] %>">
        </div>
        <div class="foh-filters-form__field">
          <label for="foh_training_class_id" class="foh-filters-form__label">Course</label>
          <select name="training_class_id" id="foh_training_class_id" class="foh-filters-form__input">
            <option value="">All</option>
            <% @training_classes.each do |tc| %>
              <option value="<%= tc.id %>" <%= "selected" if params[:training_class_id].to_s == tc.id.to_s %>><%= tc.title %> (<%= tc.date.strftime("%d/%m/%Y") %>)</option>
            <% end %>
          </select>
        </div>
        <div class="foh-filters-form__field">
          <label for="foh_segment" class="foh-filters-form__label">Segment</label>
          <select name="segment" id="foh_segment" class="foh-filters-form__input">
            <option value="">All</option>
            <option value="corporate" <%= "selected" if params[:segment] == "corporate" %>>Corporate</option>
            <option value="individual" <%= "selected" if params[:segment] == "individual" %>>Individual</option>
          </select>
        </div>
      </div>
      <div class="foh-filters-form__row">
        <div class="foh-filters-form__field">
          <label for="foh_status" class="foh-filters-form__label">Status</label>
          <select name="status" id="foh_status" class="foh-filters-form__input">
            <option value="">All</option>
            <option value="paid" <%= "selected" if params[:status] == "paid" %>>Paid</option>
            <option value="pending" <%= "selected" if params[:status] == "pending" %>>Pending</option>
            <option value="overdue" <%= "selected" if params[:status] == "overdue" %>>Overdue</option>
            <option value="no_document" <%= "selected" if params[:status] == "no_document" %>>No document</option>
          </select>
        </div>
        <div class="foh-filters-form__field">
          <label for="foh_channel" class="foh-filters-form__label">Channel</label>
          <select name="channel" id="foh_channel" class="foh-filters-form__input">
            <option value="">All</option>
            <% @channels.each do |ch| %>
              <option value="<%= ch %>" <%= "selected" if params[:channel] == ch %>><%= ch %></option>
            <% end %>
          </select>
        </div>
        <div class="foh-filters-form__actions">
          <button type="submit" class="odt-btn odt-btn--primary odt-btn--sm">Apply</button>
          <%= link_to "Clear", finance_dashboard_path, class: "odt-btn odt-btn--secondary odt-btn--sm", data: { turbo_frame: "finance_dashboard" } %>
        </div>
      </div>
    <% end %>
  </div>
</details>
