<%
  s = summary
  derived_cost = (s[:profit_before_vat].present? && s[:net_before_vat].present?) ? (s[:net_before_vat] - s[:profit_before_vat]) : nil
  add_expense_path = admin_training_classes_path
%>
<%= render layout: "shared/components/dashboard_card", locals: { title: "Expense summary", icon: "wallet2", header_action: link_to("Add expense", add_expense_path, class: "btn btn-sm btn-outline-primary"), extra_class: "finance-expense-summary" } do %>
  <div class="finance-expense-summary__body">
    <dl class="finance-expense-summary__list">
      <dt>Training cost (derived)</dt>
      <dd><%= derived_cost.nil? ? "—" : number_to_thb(derived_cost) %></dd>
    </dl>
    <p class="finance-expense-summary__note">Net revenue − Net profit. Use “Add expense” to record class expenses.</p>
  </div>
<% end %>
